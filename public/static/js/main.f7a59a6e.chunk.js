(this.webpackJsonpleaderboard=this.webpackJsonpleaderboard||[]).push([[0],{103:function(e,t,a){e.exports=a(252)},108:function(e,t,a){},109:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(99),s=a.n(c),o=(a(108),a(109),a(25)),i=a(13),u=a(10),l=a.n(u),m=a(21),h=a(19),d=a(20),p=a(36),f=a(35),v=a(37),b=function(){function e(){Object(h.a)(this,e),this._url="http://leaderboards.adamdill.com"}return Object(d.a)(e,[{key:"getGames",value:function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this._url+"/games");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getGameScores",value:function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this._url+"/scores/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=a(102),k=(a(113),a(114),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e)))._adapter=new b,a.state={games:[],scores:[],currentSelection:void 0},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadGames()}},{key:"render",value:function(){for(var e=this,t=this.state.games.map((function(t,a){return r.a.createElement("li",{key:a,onClick:e.handleGameClick.bind(e,t)},t.name)})),a=t.length,n=t.length+1,c=a;c<n;c++)t.push(r.a.createElement("li",{key:c,onClick:this.handleGameClick.bind(this,void 0)},"Game Name"));return r.a.createElement("div",null,r.a.createElement("ul",{className:"game-list-container"},t),r.a.createElement(E.a,{data:this.state.scores,columns:this.getScoreColumns(),defaultPageSize:10}))}},{key:"loadGames",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._adapter.getGames();case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({games:a.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadScores",value:function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._adapter.getGameScores(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,this.setState({scores:n.data});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleGameClick",value:function(e,t){void 0!==this.state.currentSelection&&this.state.currentSelection.classList.remove("selected"),this.state.currentSelection=t.currentTarget,this.state.currentSelection.classList.add("selected"),this.loadScores(e.id)}},{key:"getScoreColumns",value:function(){var e=[];this.state.scores.forEach((function(t){for(var a in t.scores)""!==a&&-1===e.indexOf(a)&&e.push(a)}));e.sort();var t=[{Header:"Name",accessor:"player_name"},{Header:"Timestamp",accessor:"timestamp"}];return e.forEach((function(e){t.push({id:e,Header:e,accessor:function(t){return t.scores[e]?Number(t.scores[e]):0}})})),t}}]),t}(r.a.Component)),g=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("p",null,"Service API is to be written.")}}]),t}(r.a.Component);var y=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,r.a.createElement(o.b,{to:"/"},"LeaderBoards")),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Scores")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/api"},"API"))))),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/api"},r.a.createElement(g,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement(k,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[103,1,2]]]);
//# sourceMappingURL=main.f7a59a6e.chunk.js.map